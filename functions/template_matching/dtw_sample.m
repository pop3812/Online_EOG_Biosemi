%----------------------------------------------------------------------
% Sample file for how to use DTW library
%
%----------------------------------------------------------------------
% by Won-Du Chang, ph.D, 
% Post-Doc @  Department of Biomedical Engineering, Hanyang University
% 12cross@gmail.com
%---------------------------------------------------------------------
function dtw_sample
    
    bDPW = 1;
    a = [0	0.198669331	0.389418342	0.564642473	0.717356091	0.841470985	0.932039086	0.98544973	0.999573603	0.973847631	0.909297427	0.808496404	0.675463181	0.515501372	0.33498815	0.141120008	-0.058374143	-0.255541102	-0.442520443	-0.611857891	-0.756802495	-0.871575772	-0.951602074	-0.993691004	-0.996164609	-0.958924275	-0.883454656];
    b = [0	0.13934129	0.280866882	0.422009942	0.559765796	0.690689246	0.810911446	0.916183017	1.001951173	1.063479659	1.096020977	1.095050447	1.056570699	0.977492637	0.856094008	0.692548531	0.489505932	0.252685137	-0.008581776	-0.280948826	-0.546930075	-0.785219968	-0.971667114	-1.081125445	-1.09038265	-0.982267771	-0.750824533];
    c = [0	0.209011935	0.421300323	0.633014913	0.839648694	1.036033869	1.216367169	1.374274526	1.50292676	1.595219489	1.644031466	1.642575671	1.584856049	1.466238956	1.284141012	1.038822797	0.734258898	0.379027706	-0.012872664	-0.421423239	-0.820395113	-1.177829952	-1.457500671	-1.621688168	-1.635573975	-1.473401657	-1.1262368];

    ref = a';
    test = c'.*2;
    [dist table slope] = dtw(ref,test,1,2,bDPW);
    'distance = '
    dist
    
    %DTW Backtracking to find path
    [match_pair, nPair] = dtw_backtracking(table, slope,[]);
    
    draw_dtwmatching_graph(ref,test,match_pair, nPair);
end